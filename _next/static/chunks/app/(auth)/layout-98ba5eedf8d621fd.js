(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97],{1658:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>f,MO:()=>d,T_:()=>m,_v:()=>c,w$:()=>i});var s=t(8943),o=t(9208);let a=o.A.get("access_token"),n=o.A.get("refresh_token"),u=o.A.get("fullname"),l=(0,s.Z0)({name:"auth",initialState:{username:"",fullname:u||"",accessToken:a||"",refreshToken:n||"",error:""},reducers:{SET_TOKENS:(e,r)=>{let{username:t,fullname:s,accessToken:a,refreshToken:n}=r.payload;e.username=t,e.fullname=s,e.accessToken=a,e.refreshToken=n,o.A.set("access_token",a,{expires:7}),o.A.set("refresh_token",n,{expires:7}),o.A.set("fullname",s,{expires:7})},LOGOUT:e=>{e.username="",e.fullname="",e.accessToken="",e.refreshToken="",o.A.remove("access_token"),o.A.remove("refresh_token"),o.A.remove("fullname")},SET_ERROR:(e,r)=>{e.error=r.payload},REMOVE_ERROR:e=>{e.error=""}}}),{SET_TOKENS:c,LOGOUT:m,SET_ERROR:d,REMOVE_ERROR:i}=l.actions,f=l.reducer},5475:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var s=t(5155),o=t(2115),a=t(3391),n=t(6046),u=t(1658),l=t(814),c=t(7113);let m=e=>{let{...r}=e,{theme:t="system"}=(0,c.D)();return(0,s.jsx)(l.l$,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground font-medium",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground font-medium"}},...r})},d=e=>{let r=(0,a.wA)(),t=(0,a.d4)(e=>e.auth.refreshToken),c=(0,a.d4)(e=>e.auth.error);return((0,o.useEffect)(()=>{let e=async()=>{l.oR.error("Đăng nhập thất bại!!",{description:c}),r((0,u.w$)())};c&&e()},[c,r]),t)?(0,n.redirect)("/"):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex h-screen justify-center items-center",children:e.children}),(0,s.jsxs)("footer",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 p-4 text-md font-semibold",children:["v","1.0.2"]}),(0,s.jsx)(m,{richColors:!0})]})}},6892:(e,r,t)=>{Promise.resolve().then(t.bind(t,5475))}},e=>{var r=r=>e(e.s=r);e.O(0,[264,811,441,587,358],()=>r(6892)),_N_E=e.O()}]);